{"ast":null,"code":"var _jsxFileName = \"/Users/RJ/Trainings/react-spa_blog/src/components/news/NewsDetail.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useQuery, gql } from '@apollo/client';\nimport { useSelector } from 'react-redux';\nimport noImage from '../../assets/images/no-image.png';\nimport './news-detail.scss';\n\nfunction NewsDetails(props) {\n  const auth = useSelector(state => state.auth);\n  const [post, setPost] = useState();\n  const {\n    id\n  } = useParams();\n  const GET_POST = gql`\n  query getPost {\n    post(id: ${id}) {\n      id\n      title\n      image\n      content\n      createdAt\n      comments {\n        content\n        createdAt\n      }\n    }\n  }\n  `;\n  const {\n    data\n  } = useQuery(GET_POST);\n  useEffect(() => {\n    if (data) {\n      setPost(data.post);\n    }\n  }, [data]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"l-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, auth && /*#__PURE__*/React.createElement(Link, {\n    className: \"admin-link\",\n    to: `/news/${id}/edit`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"Edit Post\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-detail__date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"time\", {\n    \"data-time\": \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, post && post.createdAt !== null ? post.createdAt.split(' ')[0].replace(/-/g, '.') : \"no-date\")), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"news-detail__title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, post && post.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-detail__image-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-detail__image\",\n    style: {\n      backgroundImage: `url(${post && post.image ? post.image : noImage})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-detail__description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, post && post.content)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"news-detail__hr\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default NewsDetails;","map":{"version":3,"sources":["/Users/RJ/Trainings/react-spa_blog/src/components/news/NewsDetail.js"],"names":["React","useState","useEffect","useParams","Link","useQuery","gql","useSelector","noImage","NewsDetails","props","auth","state","post","setPost","id","GET_POST","data","createdAt","split","replace","title","backgroundImage","image","content"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA2BC,SAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,IAApB,QAAgC,kBAAhC;AACA,SAASC,QAAT,EAAmBC,GAAnB,QAA8B,gBAA9B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,OAAP,MAAoB,kCAApB;AACA,OAAO,oBAAP;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,QAAMC,IAAI,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACD,IAAhB,CAAxB;AACA,QAAM,CAAEE,IAAF,EAAQC,OAAR,IAAoBb,QAAQ,EAAlC;AACA,QAAM;AAAEc,IAAAA;AAAF,MAASZ,SAAS,EAAxB;AAEA,QAAMa,QAAQ,GAAGV,GAAI;;eAERS,EAAG;;;;;;;;;;;;GAFhB;AAeA,QAAM;AAAEE,IAAAA;AAAF,MAAWZ,QAAQ,CAACW,QAAD,CAAzB;AAEAd,EAAAA,SAAS,CAAC,MAAI;AACZ,QAAIe,IAAJ,EAAU;AACRH,MAAAA,OAAO,CAACG,IAAI,CAACJ,IAAN,CAAP;AACD;AACF,GAJQ,EAIN,CAACI,IAAD,CAJM,CAAT;AAMA,sBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,IAAI,iBACL,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,YAAhB;AAA6B,IAAA,EAAE,EAAG,SAAQI,EAAG,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,eAIE;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,iBAAU,EAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqBF,IAAI,IAAIA,IAAI,CAACK,SAAL,KAAmB,IAA3B,GAAkCL,IAAI,CAACK,SAAL,CAAeC,KAAf,CAAqB,GAArB,EAA0B,CAA1B,EAA6BC,OAA7B,CAAqC,IAArC,EAA0C,GAA1C,CAAlC,GAAmF,SAAxG,CADF,CAJF,eAOE;AAAI,IAAA,SAAS,EAAC,oBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCP,IAAI,IAAIA,IAAI,CAACQ,KAAlD,CAPF,eASE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAoC,IAAA,KAAK,EAAE;AAAEC,MAAAA,eAAe,EAAG,OAAMT,IAAI,IAAIA,IAAI,CAACU,KAAb,GAAqBV,IAAI,CAACU,KAA1B,GAAkCf,OAAQ;AAApE,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,eAaE;AAAK,IAAA,SAAS,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGK,IAAI,IAAIA,IAAI,CAACW,OADhB,CADF,CAbF,eAmBE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBF,CADF,CADF;AAyBD;;AAED,eAAef,WAAf","sourcesContent":["import React, { useState , useEffect} from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useQuery, gql } from '@apollo/client'\nimport { useSelector } from 'react-redux';\nimport noImage from '../../assets/images/no-image.png';\nimport './news-detail.scss';\n\nfunction NewsDetails(props) {\n  const auth = useSelector(state => state.auth);\n  const [ post, setPost ] = useState();\n  const { id } = useParams();\n\n  const GET_POST = gql`\n  query getPost {\n    post(id: ${id}) {\n      id\n      title\n      image\n      content\n      createdAt\n      comments {\n        content\n        createdAt\n      }\n    }\n  }\n  `\n  const { data } = useQuery(GET_POST);\n\n  useEffect(()=>{\n    if (data) {\n      setPost(data.post);\n    }\n  }, [data])\n\n  return (\n    <div className=\"l-container\">\n      <div className=\"news-detail\">\n        {auth &&\n        <Link className=\"admin-link\" to={`/news/${id}/edit`}>Edit Post</Link>\n        }\n        <div className=\"news-detail__date\">\n          <time data-time=\"\">{ post && post.createdAt !== null ? post.createdAt.split(' ')[0].replace(/-/g,'.') : \"no-date\" }</time>\n        </div>\n        <h2 className=\"news-detail__title\">{ post && post.title  }</h2>\n\n        <div className=\"news-detail__image-wrapper\">\n          <div className=\"news-detail__image\" style={{ backgroundImage: `url(${post && post.image ? post.image : noImage})` }}></div>\n        </div>\n\n        <div className=\"news-detail__description\">\n          <p>\n            {post && post.content}\n          </p>\n        </div>\n\n        <div className=\"news-detail__hr\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default NewsDetails;\n"]},"metadata":{},"sourceType":"module"}